{"version":3,"file":"main.683dfef769b2e38d7ee5.bundle.js","sources":["webpack:///./src/useLightsaberHum.tsx"],"sourcesContent":["import React from 'react';\n\nimport onSound from './sounds/on.mp3';\nimport offSound from './sounds/off.mp3';\nimport humSound from './sounds/hum.wav';\nimport clashSound from './sounds/clash.mp3';\n\nconst useLightSaberHum = <T extends HTMLElement>(active?: boolean) => {\n  const element = React.useRef<T>(null);\n  const hum: React.MutableRefObject<HTMLAudioElement | null> = React.useRef(\n    null\n  );\n  const soundEffect: React.MutableRefObject<HTMLAudioElement | null> = React.useRef(\n    null\n  );\n\n  const playSound = (sound: string) => {\n    if (soundEffect.current) {\n      soundEffect.current.remove();\n    }\n\n    soundEffect.current = new Audio(sound);\n    soundEffect.current.play();\n  };\n\n  const playHum = () => {\n    if (!hum.current) {\n      hum.current = new Audio(humSound);\n      hum.current.loop = true;\n    }\n\n    hum.current.play();\n  };\n\n  const pauseHum = () => {\n    if (hum.current) {\n      hum.current.pause();\n    }\n  };\n\n  React.useLayoutEffect(() => {\n    if (active) {\n      playSound(onSound);\n      playHum();\n    } else {\n      pauseHum();\n      playSound(offSound);\n    }\n\n    return pauseHum;\n  }, [active]);\n\n  // Attach mouseover even to play clash sound when you mouse over\n  // the target element\n  React.useEffect(() => {\n    const clash = () => playSound(clashSound);\n\n    if (element.current) {\n      element.current.addEventListener('mouseover', clash);\n    }\n\n    return () => {\n      if (element.current) {\n        element.current.removeEventListener('mouseover', clash);\n      }\n    };\n  }, []);\n\n  return element;\n};\n\nexport default useLightSaberHum;\ntry {\n    // @ts-ignore\n    useLightsaberHum.displayName = \"useLightsaberHum\";\n    // @ts-ignore\n    useLightsaberHum.__docgenInfo = { \"description\": \"\", \"displayName\": \"useLightsaberHum\", \"props\": {} };\n    // @ts-ignore\n    if (typeof STORYBOOK_REACT_CLASSES !== \"undefined\")\n        // @ts-ignore\n        STORYBOOK_REACT_CLASSES[\"src/useLightsaberHum.tsx#useLightsaberHum\"] = { docgenInfo: useLightsaberHum.__docgenInfo, name: \"useLightsaberHum\", path: \"src/useLightsaberHum.tsx#useLightsaberHum\" };\n}\ncatch (__react_docgen_typescript_loader_error) { }"],"mappings":"AAuEA","sourceRoot":""}